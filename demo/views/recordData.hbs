<div>
  <h1>
    Patient {{record.patientId.screenName}}'s Recorded Data in {{record.recordDate}}
  </h1>
  <table border="1">

    <tr>
      <th> Data Abbr </th>
      <th> Data Name </th>
      <th> Data Value </th>
      <th> Data Recorded Time </th>
      <th> Data Status </th>
      <th> Comment </th>
    </tr>

    {{#each record.data}}  
    <form action="/general/recordData" method="POST">
      <tr>
        <td> {{@key}} </td>
        <input type="hidden" name="key" value="{{@key}}">
        <td> {{this.fullName}} </td>
        {{#ifUnrecorded this.status}}
        <td> <input type="text" name="value" placeholder="Enter your record here" required> </td>
        {{else}}
        <td> {{this.value}} </td>
        {{/ifUnrecorded}}
        <td> {{this.createdAt}} </td>
        <td style="background-color:
          {{#ifRecorded this.status}}
          green
          {{else}}
          {{#ifUnrecorded this.status}}
          red
          {{else}}
          white
          {{/ifUnrecorded}}
          {{/ifRecorded}}
          ;">
          {{this.status}}
        </td>
        {{#ifUnrecorded this.status}}
        <td> <input type="text" name="comment" placeholder="Enter your comment here" required> </td>
        {{else}}
        <td> {{this.comment}} </td>
        {{/ifUnrecorded}}
        {{#ifUnrecorded this.status}}
        <td> <button type="submit"> submit </td>
        {{/ifUnrecorded}}
      </tr>
    </form>
    {{/each}}
  </table>
</div>